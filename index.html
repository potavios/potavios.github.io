<!DOCTYPE html>
<html>
<head>
    <title>Redirecionando...</title>

    <script type="text/javascript">
    // Função para obter parâmetros da URL
    function getParameterByName(name) {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get(name);
    }

    // Obtém o packageId da URL
    var packageId = getParameterByName('packageId'); // Pega o valor do parâmetro 'packageId'

    // Verifica se o packageId foi encontrado
    if (packageId) {
        // Verifica se estamos no mobile antes de tentar redirecionar
        var isMobile = /iPhone|iPad|iPod|Android/i.test(navigator.userAgent);
        if (isMobile) {
            // Tenta abrir o app com o packageId extraído, usando o intent correto
            window.location = "intent://#Intent;scheme=https;package=" + packageId + ";S.browser_fallback_url=https://play.google.com/store/apps/details?id=" + packageId + ";end";
        } else {
            // Se não for mobile, redireciona diretamente para a Play Store
            window.location = "https://play.google.com/store/apps/details?id=" + packageId;
        }

        // Como precaução, se o redirecionamento falhar, redireciona manualmente para a Play Store
        setTimeout(function () {
            window.location = "https://play.google.com/store/apps/details?id=" + packageId;
        }, 1500);  // Aguarda 1.5 segundos antes de redirecionar
    } else {
        // Caso o packageId não seja encontrado
        document.body.innerHTML = "<p>Package ID não encontrado na URL.</p>";
    }
    </script>
</head>
<body>
    <p>Redirecionando...</p>
</body>
</html>
